# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2012, InaSAFE project
# This file is distributed under the same license as the InaSAFE Documentation Project package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: InaSAFE Documentation Project 1.0\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2013-03-06 11:31\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

# 6b7cb7243c454256806c06de8de515a0
#: ../../source/developer-docs/writing_impact_functions.rst:9
msgid "Writing Impact Functions"
msgstr ""

# 79354461a7fb44a6a304ae39b353ac65
#: ../../source/developer-docs/writing_impact_functions.rst:11
msgid ""
"This document explains the purpose of impact functions and shows how to "
"write them. Some familiarity with the Python programming language will be "
"helpful to fully appreciate this section. See also :ref:`impact_functions` "
"for information about existing impact functions in InaSAFE. Three examples "
"of impact functions for common combinations of input types are given in the "
"sections :ref:`raster_raster`, :ref:`raster_vector` and :ref:`vector_vector`."
msgstr ""

# 14ab470a44b84d57a52b3ffbca1a459a
#: ../../source/developer-docs/writing_impact_functions.rst:18
msgid "This section is still work in progress"
msgstr ""

# 66d0e1968e604fa3a6f0650391da9ac5
#: ../../source/developer-docs/writing_impact_functions.rst:21
msgid "What is an impact function?"
msgstr ""

# ebaa419675cd46348d8d35de0f61f399
#: ../../source/developer-docs/writing_impact_functions.rst:23
msgid ""
"An impact function is a short Python code that InaSAFE calls to make a "
"specific analyses. All impact functions take as inputs one hazard layer and "
"one exposure layer. All impact functions return"
msgstr ""

# 9d9e12b8e4944532a423caf343d1310f
#: ../../source/developer-docs/writing_impact_functions.rst:27
msgid ""
"a layer that represents he result of the calculation (the impact layer)."
msgstr ""

# 54f8af29f229418aa59b43817b4541d8
#: ../../source/developer-docs/writing_impact_functions.rst:28
msgid "style information for the impact layer."
msgstr ""

# d2625c35fbbb4a17a2383589389048ed
#: ../../source/developer-docs/writing_impact_functions.rst:29
msgid ""
"a textual report typically summarising statistical information about the "
"impact such as estimated fatilities or number of buildings affected."
msgstr ""

# 05b8b55c0f914bf7a261eb2b03166ed6
#: ../../source/developer-docs/writing_impact_functions.rst:32
msgid ""
"Layers can be either raster or vector types. See :ref:`data_types` for a "
"complete list of admissible input layer types that can be sensibly handled "
"by impact functions."
msgstr ""

# def2e14a67874eaa8edff2224b971ddf
#: ../../source/developer-docs/writing_impact_functions.rst:36
msgid ""
"Impact functions also specify which layer types they can work with and thus "
"directly control under which circumstances they are made available to the "
"user in the impact function menu. See :ref:`requires` for more details."
msgstr ""

# 447505bcc17e422893714097081b9f10
#: ../../source/developer-docs/writing_impact_functions.rst:42
msgid "Creating impact functions"
msgstr ""

# 44d1851a3502472898cd6502e7286760
#: ../../source/developer-docs/writing_impact_functions.rst:44
msgid ""
"All impact functions follow a particular overall structure as outlined below:"
msgstr ""

# 1df08603d71f4361b3496bf51a591861
#: ../../source/developer-docs/writing_impact_functions.rst:47
msgid "Import required modules"
msgstr ""

# c42057a868eb4885891b0bbafde9a68b
#: ../../source/developer-docs/writing_impact_functions.rst:49
msgid ""
"This section identifies functionality that is needed for the impact function "
"in question. As a minimum, one must import functionality specific to the "
"impact function framework, but depending on the usage other standard Python "
"modules may be imported here. A minimal import section contains: ::"
msgstr ""

# e556c8acb19541a9970b37e826af7581
#: ../../source/developer-docs/writing_impact_functions.rst:63
msgid "The imported elements are"
msgstr ""

# de81a5fe04cf453fab0e7ffa43b814ba
#: ../../source/developer-docs/writing_impact_functions.rst:69
msgid ""
"Base class that all impact function classes must inherit from for InaSAFE to "
"recognise them. Click on link or see examples below for more details."
msgstr ""

# 369d47c01d864a898f44d384c965e0c5
#: ../../source/developer-docs/writing_impact_functions.rst:72
msgid "Helper function to extract hazard layer from input."
msgstr ""

# ed84bc1359464a6f824fe49d97cab7ed
#: ../../source/developer-docs/writing_impact_functions.rst:75
msgid "Helper function to extract exposure layer from input."
msgstr ""

# 15346b1ed1f946928fcb9464b6827160
#: ../../source/developer-docs/writing_impact_functions.rst:78
msgid ""
"Function to paraphrase the selected scenario based on titles of hazard, "
"exposure and impact function."
msgstr ""

# 199a79b94eff46e1ad230797944777c3
#: ../../source/developer-docs/writing_impact_functions.rst:81
msgid "Helper function which provides title of impact function."
msgstr ""

# 1dcfefdedb764e26a57615dcd589817e
#: ../../source/developer-docs/writing_impact_functions.rst:84
msgid "Class for representing tables for use in the InaSAFE reports."
msgstr ""

# 58b55001d8584cdb874c61677be4ba07
#: ../../source/developer-docs/writing_impact_functions.rst:87
msgid "Class for representing one table row in a table."
msgstr ""

# 8ebfdf270c16477c8af81bdeade35ccb
#: ../../source/developer-docs/writing_impact_functions.rst:91
msgid ""
"Additionally, and depending on the type of the resulting layer, a typical "
"import section will include either: ::"
msgstr ""

# 4867810616c641b8aa91b2257d324363
#: ../../source/developer-docs/writing_impact_functions.rst:96
msgid "or: ::"
msgstr ""

# bdf0c0ca37604fd886718a7842e0dc5b
#: ../../source/developer-docs/writing_impact_functions.rst:100
msgid ""
"See `Raster <http://inasafe.org/api-docs/safe/storage/raster.html#module-"
"safe.storage.raster>`_ and `Vector <http://inasafe.org/api-docs/safe/storage/"
"raster.html#module-safe.storage.vector>`_ documentation for details."
msgstr ""

# f893c99e283c4617b150e9f983286703
#: ../../source/developer-docs/writing_impact_functions.rst:103
msgid "Define the impact function class"
msgstr ""

# 686696cdadb44933a1b4231b91d564ac
#: ../../source/developer-docs/writing_impact_functions.rst:105
msgid ""
"The impact function is represented by a Python class. It must inherit from "
"the class ``FunctionProvider`` which is what will make it part of the "
"InaSAFE system:"
msgstr ""

# 7728153f9e744874988572fcf7c2f79b
#: ../../source/developer-docs/writing_impact_functions.rst:113
msgid ""
"The impact function class must have some special tags in its docstring which "
"are used to identify it and decide which layer types it is valid for. They "
"are:"
msgstr ""

# 1558b4fe00b94ee488a6ae1f4850f56e
#: ../../source/developer-docs/writing_impact_functions.rst:115
msgid "Name of the individual or organisation who wrote the impact function"
msgstr ""

# 839c138099ac4e4593bb9827fdcd4f7f
#: ../../source/developer-docs/writing_impact_functions.rst:116
msgid ""
"A numeric rating from 1 to 4 signifying a quality rating of the function (1 "
"is worst and 4 is best). This is used in conjunction with similar ratings of "
"input layers and combined into a rating of the resulting impact layer. The "
"idea is that a final result is never better than the worst of the inputs and "
"the calculation."
msgstr ""

# 22164be45b7f44b9a7d84d8e36512ac2
#: ../../source/developer-docs/writing_impact_functions.rst:117
msgid ""
"This precedes an arbitrary boolean expression combining statements involving "
"keyword and values. The expression must be valid Python statements and the "
"keywords and values must be defined for each input layer - e.g. by using the "
"keywords editor or by manually editing the keywords file. One keyword, "
"layertype, which takes the values 'raster' or 'vector' is always present and "
"is inferred automatically by InaSAFE. For more information about keywords "
"please refer to :ref:`keywords_system` and refer to the examples below."
msgstr ""

# 309e93e2cc3a4888b294b0d7fdda3d04
#: ../../source/developer-docs/writing_impact_functions.rst:119
msgid ""
"Following the docstring is a collection of variables that define and "
"document the impact function. They are"
msgstr ""

# 87c4d07cc99a463385f6e005f1d55d31
#: ../../source/developer-docs/writing_impact_functions.rst:121
msgid ""
"Specifies the title of the impact function as displayed in the InaSAFE user "
"interface"
msgstr ""

# d6959d4c8fb64d87a0f139b9e0af22a1
#: ../../source/developer-docs/writing_impact_functions.rst:122
msgid ""
"A (possibly ordered) dictionary of parameters that can be configured from "
"the user interface. Anything listed here can be modified at runtime by "
"clicking the pencil symbol next to the impact function. In this case it is "
"the threshold used to define what water level signals evacuation."
msgstr ""

# d394aef18e5a401682dc0cd7815b3cf5
#: ../../source/developer-docs/writing_impact_functions.rst:127
msgid ""
"In addition, there is a collection of text variables used for various levels "
"of documentation of this impact function. They are ``synopsis``, "
"``actions``, ``detailed_description``, ``permissible_hazard_input``, "
"``permissible_exposure_input`` and ``limitation``. See examples below for "
"more possible usages."
msgstr ""

# 6603f63c6d05433f944ddd938208d988
#: ../../source/developer-docs/writing_impact_functions.rst:130
#: ../../source/developer-docs/writing_impact_functions.rst:222
msgid "Impact function algorithm"
msgstr ""

# a63703480690422d9c0cd559308aba78
# fc1a5dd435e04ae8a01ff6e56d88cdcf
# 58046d17f3684202981067c4490850c6
#: ../../source/developer-docs/writing_impact_functions.rst:131
#: ../../source/developer-docs/writing_impact_functions.rst:468
#: ../../source/developer-docs/writing_impact_functions.rst:482
msgid "TBA"
msgstr ""

# ecfd763024bc4b62b3b023573f3e3f8e
#: ../../source/developer-docs/writing_impact_functions.rst:137
msgid "Impact function for raster hazard and raster exposure data"
msgstr ""

# 46ebb8c8fb3e4c5898979c8a59a20995
#: ../../source/developer-docs/writing_impact_functions.rst:139
msgid ""
"The example below is a simple impact function that calculates an expected "
"number of people in need of evacuation in a flood event as well as an "
"estimate of supplies required."
msgstr ""

# 9a1b4131d540416a8ddba65cff52f2d7
#: ../../source/developer-docs/writing_impact_functions.rst:144
msgid "Import section"
msgstr ""

# e15b1cd5ef5b46febd3c17e4140d6f91
#: ../../source/developer-docs/writing_impact_functions.rst:146
msgid ""
"This section identifies functionality that is needed for the impact function "
"in question. As a minimum, one must import functionality specific to the "
"impact function framework, but in this case we also need ``numpy`` for "
"computations, ``tables`` for reporting and ``raster`` to form the resulting "
"impact layer:"
msgstr ""

# d492c5f0e1f0413aac15a5de8b972945
#: ../../source/developer-docs/writing_impact_functions.rst:166
msgid "Impact function class"
msgstr ""

# d3ff3cdbdb004b5693bbbf5485bf8f18
#: ../../source/developer-docs/writing_impact_functions.rst:168
msgid ""
"The impact function itself is embodied in a Python class with a doc string:"
msgstr ""

# 0ac8469eb378486fab62f519852bb040
#: ../../source/developer-docs/writing_impact_functions.rst:211
msgid ""
"The class name ``FloodPopulationEvacuationFunction`` is used to uniquely "
"identify this impact function and it is important to make sure that no two "
"impact functions share the same class name. If they do, one of them will be "
"ignored."
msgstr ""

# 4398eece0bcf484cb640291b6bbf3142
#: ../../source/developer-docs/writing_impact_functions.rst:216
msgid ""
"The doc string defines the author, the rating and the requirements that "
"input layers must fulfil for this impact function. In this case, there must "
"be a hazard layer with subcategory of either 'flood' or 'tsunami', with "
"layertype being 'raster' and unit of meters. The other input must be tagged "
"as 'exposure' with subcategory 'population' and also having layertype "
"'raster'. Except for layertype which is automatically inferred by InaSAFE "
"all other keywords must be specified with each layer e.g. by using the "
"InaSAFE keyword editor or by manually editing the keywords file. See also :"
"ref:`keywords_system`."
msgstr ""

# 9a06095706664ac288344b9639f97b71
#: ../../source/developer-docs/writing_impact_functions.rst:218
msgid ""
"The rest of this section comprise the documentation variables and the "
"parameters dictionary which in this case makes one variable available for "
"interactive modification from the user interface. In this case, the "
"threshold used to determine whether people should be evacuated is made "
"configurable. The default value is set to 1m."
msgstr ""

# 90ef7baf970f4788ab60490649cb2f93
#: ../../source/developer-docs/writing_impact_functions.rst:224
msgid ""
"The actual calculation of the impact function is specified as a method call "
"called ``run``. This method will be called by InaSAFE with a list of the 2 "
"selected layers:"
msgstr ""

# 743d935611e141dfbdcf11b746cac579
#: ../../source/developer-docs/writing_impact_functions.rst:254
msgid ""
"The typical way to start the calculation is to explicitly get a handle to "
"the hazard layer and the exposure layer. In this case we name them as "
"``inundation`` and ``population`` respectively."
msgstr ""

# e3d44b3e2aa544a280e7e97948fa2338
#: ../../source/developer-docs/writing_impact_functions.rst:258
msgid ""
"We also use a built-in function ``get_question`` to paraphrase the selected "
"scenario based on titles of hazard, exposure and impact function. For "
"example, if the hazard and exposure layers had titles \"A flood in Jakarta "
"like in 2007\" and \"People\", then the paraphrased question for this impact "
"function would become:"
msgstr ""

# 19d42643a0404b6a807e8c938e69faad
#: ../../source/developer-docs/writing_impact_functions.rst:260
msgid ""
"In the event of *a flood in Jakarta like in 2007* how many *people* might "
"*be evacuated*."
msgstr ""

# 31f54442205143f49b18aead0c317b75
#: ../../source/developer-docs/writing_impact_functions.rst:263
msgid ""
"The next typical step is to extract the numerical data to be used. In this "
"case we assign the configurable parameter ``threshold`` to a variable of the "
"same name, and because both input layers are raster data (we know this "
"because of the requirements section) we take the numerical data as arrays. "
"InaSAFE has a preprocessing step that automatically reprojects, aligns, "
"resamples and possibly rescales data so that the impact function can assume "
"the two arrays are compatible and be used safely in numerical calculations:"
msgstr ""

# 44e949d036764e078c6605f97681f7eb
#: ../../source/developer-docs/writing_impact_functions.rst:283
msgid ""
"The method ``get_data()`` returns an array if the layer is raster and takes "
"two arguments:"
msgstr ""

# 5579d72ef1cc445db2503d0b76decbb9
#: ../../source/developer-docs/writing_impact_functions.rst:285
msgid ""
"Specify the value to use where nodata is available. In this case we use 0.0 "
"as we only want to count hazard pixels with flooding and exposure pixels "
"with non-zero population."
msgstr ""

# d831b80b9899447fb978ed64bd14ae5c
#: ../../source/developer-docs/writing_impact_functions.rst:286
msgid ""
"Optional argument controlling if data is to be scaled. In this case we set "
"it to True which means that if the corresponding raster layer was resampled "
"by InaSAFE, the values will be correctly scaled by the squared ratio between "
"its current and native resolution."
msgstr ""

# d7dd5b2a0894459191614b7878c7b4f7
#: ../../source/developer-docs/writing_impact_functions.rst:288
msgid ""
"# FIXME (Ole): Tim - how do we cross reference docstrings? The problem is "
"that we can't drop labels into them because they are auto-generated?"
msgstr ""

# e450b9a8782e45e2bbb12fe5c224fabf
#: ../../source/developer-docs/writing_impact_functions.rst:290
msgid ""
"See :ref:/api-docs/safe/storage/raster.html#safe.storage.raster.Raster."
"get_data for more details on the ``get_data()`` method."
msgstr ""

# 3fd877a5f5c34dfd959d8686fae7265c
#: ../../source/developer-docs/writing_impact_functions.rst:293
msgid ""
"Now we are ready to implement the desired calculation. In this case it is "
"very simple as we just want to sum over population pixels where the "
"inundation depth exceeds the threshold. As both inundation and population "
"are numpy arrays, this is achieved by the code:"
msgstr ""

# b4223f685b43477b9a1ce32868cec047
#: ../../source/developer-docs/writing_impact_functions.rst:309
msgid ""
"We can now use this estimate to calculate the needs required. In this case "
"it is based on an Indonesian standard:"
msgstr ""

# 8410b4e62ab24da1a6f043da21571466
#: ../../source/developer-docs/writing_impact_functions.rst:332
msgid ""
"With all calculations complete, we can now generate a report. This usually "
"takes the form of a table and InaSAFE provide some primitives for generating "
"table rows etc. InaSAFE operates with two tables, impact_table which is put "
"on the printable map and impact_summary which is shown on the screen. They "
"can be identical but are usually slightly different. We also define a title "
"for the generated map:"
msgstr ""

# 2e4c5c0d15324998843137a09d9c4558
#: ../../source/developer-docs/writing_impact_functions.rst:369
msgid ""
"The impact grid calculated above must be displayed as a layer so needs some "
"appropriate colouring. In this case we define 8 classes and assign a colour "
"for each. We set the lowest class to be transparent and the others solid as "
"that will give a nice visual appearance showing only areas that are "
"impacted. We label class 1 as low, class 4 as medium and class 7 as high:"
msgstr ""

# 17fcaf5709114fa2b79c46d6263a0109
#: ../../source/developer-docs/writing_impact_functions.rst:420
msgid ""
"Finally, we create and return a new raster object based on the calculated "
"impact grid ``I``. We also assign the same projection and geotransform as "
"the hazard layer, give it a suitable name, pass the tables and title as "
"keywords and provide the generated style."
msgstr ""

# 6d7ef279c8f44a0b85b4b326082252e5
#: ../../source/developer-docs/writing_impact_functions.rst:424
msgid ""
"InaSAFE assumes that every impact function returns a raster or vector "
"layer. ::"
msgstr ""

# dfa8b539f6d146429ffca2feba33d2aa
#: ../../source/developer-docs/writing_impact_functions.rst:440
msgid ""
"This function is available in full at :download:`../static/"
"flood_population_evacuation_impact_function.py`"
msgstr ""

# 4eb2bad0998746168f67a9e9a9d3c51b
#: ../../source/developer-docs/writing_impact_functions.rst:444
msgid "Output"
msgstr ""

# f67022147e6e4878902d186860bbfc06
#: ../../source/developer-docs/writing_impact_functions.rst:446
msgid "The output of this function looks like this:"
msgstr ""

# 66d84b9c558b4982a24073e730cbc478
#: ../../source/developer-docs/writing_impact_functions.rst:452
msgid ""
"and the legend defined in the style_info section is available in the layer "
"view"
msgstr ""

# cdc24f0dbe24453f8c7024174f473454
#: ../../source/developer-docs/writing_impact_functions.rst:461
msgid ""
"Impact function for raster hazard and vector (point or polygon) exposure data"
msgstr ""

# 47184e6f91a746e7a5254aab9bb9ceec
#: ../../source/developer-docs/writing_impact_functions.rst:463
msgid ""
"The example below is a simple impact function that identifies which "
"buildings (vector data) will be affected by earthquake ground shaking "
"(raster data)."
msgstr ""

# 7a05f0b831014cc6ae4ebce91494eca8
#: ../../source/developer-docs/writing_impact_functions.rst:470
msgid ""
"This function is available in full at :download:`../static/"
"earthquake_building_impact_function.py`"
msgstr ""

# 6e9930971090427c95665e2d714b1c8f
#: ../../source/developer-docs/writing_impact_functions.rst:476
msgid "Impact function for polygon hazard and vector point exposure data"
msgstr ""

# d86c4fe51f174bbf9a7eb757287b0ed6
#: ../../source/developer-docs/writing_impact_functions.rst:478
msgid ""
"The example below is a simple impact function that identifies which "
"buildings (vector data) will be affected by certain volcanic hazard areas "
"(vector polygon data)."
msgstr ""

# 7e90095ee50b4404a18ad9ec6cd3a0fd
#: ../../source/developer-docs/writing_impact_functions.rst:485
msgid "Assigning hazard values to exposure data"
msgstr ""

# d83ff3904bbe4aa3956e2c5fde25fb6a
#: ../../source/developer-docs/writing_impact_functions.rst:487
msgid ""
"In many cases, there is a need to tag the exposure layer with values from "
"the hazard layer in order to calculate the impact. Typical examples include "
"interpolation from gridded hazard data to point data (interpolation), from "
"polygon hazard data to point data or, indeed, from polygon data to gridded "
"population data. InaSAFE provides one general mechanism for this purpose "
"called ``assign_hazard_values_to_exposure_data''and it is typically called "
"in the beginning of the impact function to generate an intermediate layer "
"that has all information about both hazard and exposure. A call looks like:"
msgstr ""

# afdcd4b2463a40fd8c2d526e74c7229f
#: ../../source/developer-docs/writing_impact_functions.rst:495
msgid ""
"In this case H could be either raster or polygon vector data and E polygon "
"or point vector data. In either case the result I represents the exposure "
"data but with an additional attribute added containing the hazard level. If "
"H is polygon data, all its attributes will be transferred to I. If H is "
"raster_data and hence has only one value, that value will be assigned to a "
"new attribute in I as specified by the keyword argument attribute_name - in "
"this example 'depth'. See full documentation of this function in section :"
"ref:`data_types`."
msgstr ""

# 3fa179b2582c41618c1b35827f46d274
#: ../../source/developer-docs/writing_impact_functions.rst:505
msgid "Deploying new impact functions"
msgstr ""

# ff6942f07a7449948ebccced9e88bc0a
#: ../../source/developer-docs/writing_impact_functions.rst:507
msgid ""
"To make a new impact function visible to InaSAFE it has to be placed in a "
"subdirectory under safe/impact_functions relative to where it is installed. "
"This will typically be something like .qgis/python/plugins/inasafe."
msgstr ""

# 578fb1f0e800440a87523d16cfb8d7c9
#: ../../source/developer-docs/writing_impact_functions.rst:511
msgid ""
"There are a number of subdirectories with existing impact functions "
"organised by hazard. The new impact function can use either of them or be "
"located in a new subdirectory with the same __init_.py file as the existing "
"ones."
msgstr ""

# fdfacb52391b440db1ff019ce45ab74e
#: ../../source/developer-docs/writing_impact_functions.rst:515
msgid ""
"Next time InaSAFE is loaded, the new impact function will be included and "
"provided its keywords match those of the input layers it will be available "
"to run."
msgstr ""

# bce30f11113c44c89a513d67c192e580
#: ../../source/developer-docs/writing_impact_functions.rst:524
msgid "Controlling which layer types impact functions work with"
msgstr ""

# 91e070385e9642c2ae6c0f969fb36add
#: ../../source/developer-docs/writing_impact_functions.rst:526
msgid ""
"Each impact function has a requirements section embedded in its doc string "
"that specifies which type of input layers it can work with. The requirements "
"take the form of one or more statements that specify which keywords and "
"values input layers must have for the impact function to run. InaSAFE uses "
"this mechanism to determine which impact functions appear in the menu for a "
"given selection of hazard and exposure layers."
msgstr ""

# 915ef7dadda44190afdd166e508858d2
#: ../../source/developer-docs/writing_impact_functions.rst:533
msgid ""
"For example, the impact function for earthquake fatality estimation which "
"works with two raster input layers has the requirements section"
msgstr ""

# 63b2312075b043dfbb350d8e52009270
#: ../../source/developer-docs/writing_impact_functions.rst:548
msgid ""
"This means that the impact function will only be selected if it is presented "
"with two input layers whose associated keywords match these requirements. "
"For more information about keywords please refer to :ref:`keywords_system`."
msgstr ""
